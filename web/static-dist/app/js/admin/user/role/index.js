webpackJsonp(["app/js/admin/user/role/index"],[function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _notify=__webpack_require__("b334fd7e4c5a19234db2"),_notify2=_interopRequireDefault(_notify),$form=$("#user-roles-form"),currentUser=$form.data("currentuser"),editUser=$form.data("edituser");currentUser==editUser&&$form.find("input[value=ROLE_SUPER_ADMIN]").attr("disabled","disabled"),$form.find("input[value=ROLE_USER]").on("change",function(){$(this).prop("checked")===!1&&($(this).prop("checked",!0),(0,_notify2["default"])("info","用户必须拥有用户角色"))}),$form.on("submit",function(){var roles=[],$modal=$("#modal");return $form.find('input[name="roles[]"]:checked').each(function(){roles.push($(this).val())}),$.inArray("ROLE_USER",roles)<0?((0,_notify2["default"])("danger","用户必须拥有用户角色"),!1):($form.find("input[value=ROLE_SUPER_ADMIN]").removeAttr("disabled"),$("#change-user-roles-btn").button("submiting").addClass("disabled"),$.post($form.attr("action"),$form.serialize(),function(html){$modal.modal("hide"),(0,_notify2["default"])("success","用户组保存成功");var $tr=$(html);$("#"+$tr.attr("id")).replaceWith($tr)}).error(function(){(0,_notify2["default"])("danger","操作失败")}),!1)})}]);